@model PageOf<UserListViewModel>
@{
	ViewData["Title"] = "User List";
}

<div class="float-right">
	<partial name="~/Views/User/_UserSearch.cshtml" />
</div>
<h4>@ViewData["Title"]</h4>
<hr />
<partial name="~/Views/Table/_Pager.cshtml" model="Model" />
<table class="table table-bordered table-striped">
	<sortable-table-head paging="@Model" model-type="typeof(UserListViewModel)"/>
	@foreach (var user in Model)
	{
		<tr>
			<td>@user.Id</td>
			<td>@user.UserName</td>
			<td>@string.Join(",", user.Roles)</td>
			<td>@user.CreateTimeStamp</td>
			<td>
				<a asp-action="Index" asp-route-id="@user.Id" class="btn btn-secondary">View</a>
				<a condition="@ViewData.UserHas(PermissionTo.EditUsers)" asp-action="Edit" asp-route-id="@user.Id" class="btn btn-primary">Edit</a>
			</td>
		</tr>
	}
</table>