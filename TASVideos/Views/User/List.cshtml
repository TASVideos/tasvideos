@model PageOf<UserListViewModel>
@{
	ViewData["Title"] = "User List";
}
<h4>@ViewData["Title"]</h4>
<hr />
<form-group class="text-right">
	<row>
		<div class="col-xs-12">
			@Html.Partial("~/Views/User/_UserSearch.cshtml")
		</div>
	</row>
</form-group>

@Html.Partial("~/Views/Table/_Pager.cshtml", Model)
<table class="table table-bordered table-striped">
	<sortable-table-head paging="@Model" model-type="typeof(UserListViewModel)"/>
	@foreach (var user in Model)
	{
		<tr>
			<td>@user.Id</td>
			<td>@user.UserName</td>
			<td>@string.Join(",", user.Roles)</td>
			<td>@user.CreateTimeStamp</td>
			<td>
				<a asp-action="Index" asp-route-id="@user.Id" class="btn btn-default">View</a>
				<a condition="@ViewData.UserHasPermission(PermissionTo.EditUsers)" asp-action="Edit" asp-route-id="@user.Id" class="btn btn-primary">Edit</a>
			</td>
		</tr>
	}
</table>