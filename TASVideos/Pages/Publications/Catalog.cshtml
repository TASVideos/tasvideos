@page "{id}"
@model CatalogModel
@{
	ViewData.SetTitle($"Set Cataloging Information for {Model.Catalog.Title}");
}

<form client-side-validation="true" method="post">
	<row>
		<column lg="6">
			<fieldset>
				<label asp-for="Catalog.System"></label>
				<select asp-for="Catalog.System" asp-items="@Model.AvailableSystems" data-id="system" data-return-url="@HttpContext.CurrentPathToReturnUrl()"></select>
				<span asp-validation-for="Catalog.System"></span>
			</fieldset>
			<fieldset>
				<label asp-for="Catalog.SystemFramerate"></label>
				<select asp-for="Catalog.SystemFramerate" asp-items="@Model.AvailableSystemFrameRates" data-id="system-framerate"></select>
				<span asp-validation-for="Catalog.SystemFramerate"></span>
			</fieldset>
			<fieldset>
				<label asp-for="Catalog.Emulator"></label>
				<input asp-for="Catalog.Emulator" />
				<span asp-validation-for="Catalog.Emulator"></span>
			</fieldset>
		</column>
		<column lg="6">
			<fieldset>
				<fullrow>
					<label asp-for="Catalog.Game"></label>
				</fullrow>
				<row>
					<div class="col-10">
						<select asp-for="Catalog.Game" asp-items="@Model.AvailableGames" data-id="game"></select>
						<span asp-validation-for="Catalog.Game"></span>
					</div>
					<div class="col-2">
						<button id="create-game" type="button" class="btn btn-primary">New</button>
					</div>
				</row>
			</fieldset>
			<fieldset>
				<fullrow>
					<label asp-for="Catalog.GameVersion"></label>
				</fullrow>
				<row>
					<div class="col-10">
						<select asp-for="Catalog.GameVersion" asp-items="@Model.AvailableVersions" data-id="version"></select>
						<span asp-validation-for="Catalog.GameVersion"></span>
					</div>
					<div class="col-2">
						<button id="create-version" type="button" class="btn btn-primary">New</button>
					</div>
				</row>
			</fieldset>
			<fieldset>
				<fullrow>
					<label asp-for="Catalog.Goal"></label>
				</fullrow>
				<row>
					<div class="col-10">
						<select asp-for="Catalog.Goal" asp-items="@Model.AvailableGoals" data-id="goal"></select>
						<span asp-validation-for="Catalog.Goal"></span>
					</div>
					<div class="col-2">
						<button id="create-goal" type="button" class="btn btn-primary">Manage</button>
					</div>
				</row>
			</fieldset>
		</column>
	</row>
	<form-button-bar>
		<submit-button></submit-button>
		<cancel-link asp-page="View" asp-route-id="@Model.Id"></cancel-link>
		<minor-edit></minor-edit>
	</form-button-bar>
</form>

@section Scripts {
	<script src="/js/catalog.js"></script>
}
